(window.webpackJsonp=window.webpackJsonp||[]).push([[8,68,158],{1051:function(t,e,n){"use strict";n.r(e);n(60),n(51),n(24),n(7),n(18);var r=n(3),o=n(784),f=n(844),c=n(447),l=r.a.extend({name:"OfferMenuMy",components:{OfferMenuDesktop:o.OfferMenuDesktop,OfferMenuMobile:o.OfferMenuMobile,OfferAlert:f.default},props:{currentMenu:{type:Function,required:!0},offer:{type:Object,required:!0},sliceOffset:{type:Number,required:!0}},data:function(){return{isMenu:!1,isDelete:!1,isOff:!1}},computed:{buttons:function(){var t=this;switch(this.offer.status){case c.OfferStatus.ACTIVE:return[{label:"Оплатить",event:function(){return t.competitive()}},{label:"Редактировать",event:function(){return t.edit()}},{label:"Обновить",event:function(){return t.renew()}},{label:"Отключить",event:function(){return t.actionOff()}},{label:"Удалить",event:function(){return t.changeModalForDelete()}}];case c.OfferStatus.INACTIVE:case c.OfferStatus.OVERLIMIT:return[this.offer.isExcessive?{label:"Сверх лимит",event:function(){return t.overLimit()}}:{label:"Включить",event:function(){return t.on()}},{label:"Редактировать",event:function(){return t.edit()}},{label:"Удалить",event:function(){return t.changeModalForDelete()}}];case c.OfferStatus.REJECTED:return[{label:"Редактировать",event:function(){return t.edit()}},{label:"Включить",event:function(){return t.on()}},{label:"Удалить",event:function(){return t.changeModalForDelete()}}];default:return null}},buttonsSlices:function(){return this.buttons?{external:this.buttons.slice(0,this.sliceOffset)||null,internal:this.buttons.slice(this.sliceOffset)||null}:null},isButtonOnce:function(){return 1===this.buttonsSlices.internal.length},holdingDateNotUpDelete:function(){if(this.offer.isPaid){var t=Math.ceil(this.offer.bid/24),e=this.offer.bid-t;return"<p>Объявление № ".concat(this.offer.id," будет удалено, а ставка отменена.\nПри отмене ставки будет удержано ").concat(t," руб. за первый час размещения.\n          На счет будет возвращено ").concat(e," руб.</p>")}return"Вы хотите удалить объявление № ".concat(this.offer.id,"?")},alertForDelete:function(){var t=this;return{title:"Удалить объявление",text:this.holdingDateNotUpDelete,buttons:[{label:"Отмена",class:"btn-outline",event:this.changeModalForDelete},{label:"Удалить",class:"btn-fill",event:function(){return t.delete().finally((function(){t.changeModalForDelete(),"my"!==t.$route.name&&"my-state"!==t.$route.name&&t.$router.back()}))}}]}},holdingDateNotUpOff:function(){if(this.offer.isPaid&&this.offer.holdingDate&&new Date<new Date(this.offer.holdingDate)){var t=Math.ceil(this.offer.bid/24),e=this.offer.bid-t;return"<p>Объявление № ".concat(this.offer.id," будет отключено, а ставка отменена.\nПри отмене ставки будет удержано ").concat(t," руб. за первый час размещения.\n          На счет будет возвращено ").concat(e," руб.</p>")}return"Вы хотите отключить объявление № ".concat(this.offer.id,"?")},alertForOff:function(){var t=this;return{title:"Отключить объявление",text:this.holdingDateNotUpOff,buttons:[{label:"Отмена",class:"btn-outline",event:this.changeModalForOff},{label:"Отключить",class:"btn-fill",event:function(){return t.off().finally((function(){return t.changeModalForOff()}))}}]}}},methods:{changeMenu:function(){this.isMenu=!this.isMenu},changeModalForDelete:function(){this.isDelete=!this.isDelete},actionOff:function(){this.offer.isPaid&&this.offer.holdingDate&&new Date<new Date(this.offer.holdingDate)?this.isOff=!0:this.off()},changeModalForOff:function(){this.isOff=!this.isOff},competitive:function(){this.$router.push("".concat(this.offer.path,"/competitive"))},renew:function(){this.$router.push("".concat(this.offer.path,"/renew"))},overLimit:function(){this.$router.push("".concat(this.offer.path,"/overLimit"))},edit:function(){this.$router.push("/edit/".concat(this.offer.id))},on:function(){this.$accessor.offer.on(this.offer.id)},off:function(){return this.isMenu=!1,this.$accessor.offer.off(this.offer.id)},delete:function(){return this.$accessor.offer.delete(this.offer.id)}}}),d=n(1),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return null!==t.buttonsSlices?e("div",{staticClass:"relative"},[e(t.currentMenu,{tag:"component",attrs:{"is-menu":t.isMenu,buttons:t.buttonsSlices.external,"extra-button":t.isButtonOnce?t.buttonsSlices.internal[0]:null},on:{changeOnMenu:t.changeMenu}}),t._v(" "),t.isButtonOnce?t._e():[t.$device.isDesktop?e("OfferMenuDesktop",{attrs:{"is-menu":t.isMenu,buttons:t.buttonsSlices.internal},on:{mouseleave:t.changeMenu}}):e("OfferMenuMobile",{attrs:{"is-menu":t.isMenu,buttons:t.buttonsSlices.internal},on:{clickOnShadow:t.changeMenu,clickOnMenu:t.changeMenu}})],t._v(" "),e("OfferAlert",{attrs:{"is-alert":t.isDelete,data:t.alertForDelete}}),t._v(" "),e("OfferAlert",{attrs:{"is-alert":t.isOff,data:t.alertForOff}})],2):t._e()}),[],!1,null,null,null);e.default=component.exports},1150:function(t,e,n){var content=n(1244);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("3513928c",content,!0,{sourceMap:!1})},1243:function(t,e,n){"use strict";n(1150)},1244:function(t,e,n){var r=n(9)(!1);r.push([t.i,".offer-my-card-menu-layout[data-v-177a4eff]{grid-gap:8px;gap:8px}.offer-my-card-menu-button[data-v-177a4eff]{padding:6px 18px}.offer-my-card-menu-button-main[data-v-177a4eff]{font-size:14px;font-weight:700;line-height:19px}.offer-my-card-menu-more[data-v-177a4eff]{font-size:14px;font-weight:400;line-height:19px}",""]),t.exports=r},1288:function(t,e,n){"use strict";n.r(e);var r=n(988),o=n(931),f=n(1336),c={name:"OfferCabinetCard",components:{OfferMenuMyHandler:n(1051).default,Badge:o.default,Slider:r.default},filters:{toLocalRU:function(t){return t.toLocaleString("ru-RU")}},props:{offer:{type:Object,required:!0}},computed:{currentMenu:function(){return f.default},isOff:function(){return"inactive"===this.offer.status||"rejected"===this.offer.status||"archived"===this.offer.status}}},l=(n(1366),n(1)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("article",{staticClass:"card grid"},[e("NuxtLink",{staticClass:"block",class:{"card-off":t.isOff},attrs:{to:t.offer.path}},[e("Slider",{staticClass:"card-image",attrs:{offer:t.offer,type:"cabinet",width:"685px",height:"200px"}})],1),t._v(" "),e("div",{staticClass:"card-desc block",attrs:{to:t.offer.path}},[t.offer.notices?e("div",{staticClass:"card-desc-badges flex flex-wrap"},[t.offer.notices.dom?t._l(t.offer.notices.dom,(function(n,r){return e("Badge",{key:r,attrs:{title:n.text,color:n.type}},[n.url?e("a",{attrs:{href:n.url}},[t._v("\n            "+t._s(n.title)+"\n          ")]):[t._v("\n            "+t._s(n.title)+"\n          ")]],2)})):t._e(),t._v(" "),t.offer.notices.rent?t._l(t.offer.notices.rent,(function(n,r){return e("Badge",{key:r,attrs:{title:n.text,color:n.type}},[n.url?e("a",{attrs:{href:n.url}},[t._v("\n            "+t._s(n.title)+"\n          ")]):[t._v("\n            "+t._s(n.title)+"\n          ")]],2)})):t._e()],2):t._e(),t._v(" "),t.offer.alert?e("div",{staticClass:"card-desc-alert"},[t._v("\n      "+t._s(t.offer.alert)+"\n    ")]):t._e(),t._v(" "),e("div",{class:{"card-off":t.isOff}},[e("NuxtLink",{staticClass:"card-desc-announce",attrs:{to:t.offer.path}},[t._v("\n        "+t._s(t.offer.title)+"\n      ")]),t._v(" "),e("div",{staticClass:"card-desc-address text-darkest-grey"},[t._v("\n        "+t._s(t.offer.address)+"\n      ")]),t._v(" "),t.offer.price?e("div",{staticClass:"card-desc-price flex y-end"},[e("p",{staticClass:"card-desc-price-cost"},[t._v("\n          "+t._s(t._f("toLocalRU")(t.offer.price))+"\n        ")]),t._v(" "),e("p",{staticClass:"card-desc-price-value"},[t._v("\n          руб.\n        ")]),t._v(" "),t.offer.period?e("p",{staticClass:"card-desc-price-period text-darkest-grey"},[t._v("\n          "+t._s(t.offer.period)+"\n        ")]):t._e(),t._v(" "),t.offer.priceSM?e("p",{staticClass:"card-desc-price-period text-darkest-grey"},[t._v("\n          "+t._s(t._f("toLocalRU")(t.offer.priceSM))+" руб./м²\n        ")]):t._e()]):t._e(),t._v(" "),e("div",{staticClass:"card-desc-tags flex flex-wrap"},t._l(t.offer.tags,(function(n,r){return e("p",{key:r,class:"card-desc-tags--".concat(t.offer.type)},[t._v("\n          "+t._s(n.label)+"\n        ")])})),0),t._v(" "),e("div",{staticClass:"card-desc-counts flex center flex-wrap"},[e("figure",{staticClass:"card-desc-counts-element help cursor-pointer flex center",attrs:{title:"Количество просмотров"}},[e("svg",{attrs:{width:"16px",height:"16px"}},[e("use",{attrs:{"xlink:href":"/assets/sprites/cabinet.svg#views"}})]),t._v(" "),e("figcaption",[t._v("\n            "+t._s(t.offer.stat.views)+"\n          ")])]),t._v(" "),e("figure",{staticClass:"card-desc-counts-element help cursor-pointer flex center",attrs:{title:"Интересовались контактами"}},[e("svg",{attrs:{width:"16px",height:"16px"}},[e("use",{attrs:{"xlink:href":"/assets/sprites/cabinet.svg#contactViews"}})]),t._v(" "),e("figcaption",[t._v("\n            "+t._s(t.offer.stat.contactViews)+"\n          ")])]),t._v(" "),e("figure",{staticClass:"card-desc-counts-element help cursor-pointer flex center",attrs:{title:"Добавили в блокнот"}},[e("svg",{attrs:{width:"16px",height:"16px"}},[e("use",{attrs:{"xlink:href":"/assets/sprites/cabinet.svg#notesCount"}})]),t._v(" "),e("figcaption",[t._v("\n            "+t._s(t.offer.stat.notesCount)+"\n          ")])])])],1)]),t._v(" "),e("OfferMenuMyHandler",{staticClass:"card-menu",attrs:{"current-menu":t.currentMenu,"slice-offset":2,offer:t.offer}})],1)}),[],!1,null,"4d7248f9",null);e.default=component.exports},1301:function(t,e,n){var content=n(1367);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("4705178a",content,!0,{sourceMap:!1})},1336:function(t,e,n){"use strict";n.r(e);var r=n(3).a.extend({name:"OfferMyCardMenu",props:{isMenu:{type:Boolean,required:!0},buttons:{type:Array,default:function(){return null}},extraButton:{type:Object,default:function(){return null}}},computed:{mainButtons:function(){return this.buttons?{primary:this.buttons[0]||null,secondary:this.buttons[1]||null}:null}}}),o=(n(1243),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return null!==t.mainButtons?e("div",{staticClass:"offer-my-card-menu-layout flex flex-y relative"},[null!==t.mainButtons.primary?e("button",{staticClass:"offer-my-card-menu-button offer-my-card-menu-button-main btn-fill",on:{click:function(e){var n,r;return null===(n=t.mainButtons)||void 0===n||null===(r=n.primary)||void 0===r?void 0:r.event(e)}}},[t._v("\n    "+t._s(t.mainButtons.primary.label)+"\n  ")]):t._e(),t._v(" "),null!==t.mainButtons.secondary?e("button",{staticClass:"offer-my-card-menu-button btn",on:{click:function(e){var n,r;return null===(n=t.mainButtons)||void 0===n||null===(r=n.secondary)||void 0===r?void 0:r.event(e)}}},[t._v("\n    "+t._s(t.mainButtons.secondary.label)+"\n  ")]):t._e(),t._v(" "),null!==t.extraButton?e("button",{staticClass:"offer-my-card-menu-more text-center link-primary",on:{click:function(e){var n;return null===(n=t.extraButton)||void 0===n?void 0:n.event(e)}}},[t._v("\n    "+t._s(t.extraButton.label)+"\n  ")]):e("button",{staticClass:"offer-my-card-menu-more flex-inline x-center y-center link-primary",on:{click:function(e){return t.$emit("changeOnMenu")}}},[t._v("\n    Ещё действия\n    "),e("svg",{attrs:{width:"26px",height:"26px"}},[e("use",{attrs:{"xlink:href":"/assets/sprites/cabinet.svg#arrow"}})])])]):t._e()}),[],!1,null,"177a4eff",null);e.default=component.exports},1366:function(t,e,n){"use strict";n(1301)},1367:function(t,e,n){var r=n(9)(!1);r.push([t.i,".card[data-v-4d7248f9]{border-bottom:1px solid #e9e9e9;grid-gap:20px;gap:20px}.card-off[data-v-4d7248f9]{opacity:.5}@media screen and (min-width:768px){.card[data-v-4d7248f9]{grid-template-columns:210px 1fr auto;padding:22px 30px}.card-menu-button[data-v-4d7248f9]{width:160px}.card-image[data-v-4d7248f9]{height:200px}}@media screen and (max-width:768px){.card[data-v-4d7248f9]{grid-template-rows:130px 1fr auto;padding:16px}}.card-desc-badges[data-v-4d7248f9]{margin-bottom:8px;grid-gap:8px;gap:8px}.card-desc-alert[data-v-4d7248f9]{font-size:12px;font-weight:400;line-height:16px;color:#c30016;margin-bottom:18px}.card-desc-announce[data-v-4d7248f9]{font-size:16px;font-weight:700;line-height:22px;margin-bottom:4px}.card-desc-announce[data-v-4d7248f9]:hover{color:#0871a5}.card-desc-address[data-v-4d7248f9]{font-size:14px;font-weight:400;line-height:21px;margin-bottom:8px}.card-desc-price[data-v-4d7248f9]{margin-bottom:15px}.card-desc-price-cost[data-v-4d7248f9]{font-size:18px;font-weight:700;line-height:19px}.card-desc-price-value[data-v-4d7248f9]{font-size:14px;font-weight:600;line-height:16px;margin-left:4px}.card-desc-price-period[data-v-4d7248f9]{margin-left:14px}.card-desc-price-period[data-v-4d7248f9],.card-desc-tags[data-v-4d7248f9]{font-size:12px;font-weight:400;line-height:16px}.card-desc-tags[data-v-4d7248f9]{margin-bottom:15px;color:#979797;grid-gap:12px;gap:12px}.card-desc-tags--warning[data-v-4d7248f9]{color:#e58e00;text-shadow:.5px .5px 1px rgba(0,0,0,.1)}.card-desc-counts[data-v-4d7248f9]{grid-gap:32px;gap:32px}.card-desc-counts-element[data-v-4d7248f9]{grid-gap:6px;gap:6px}",""]),t.exports=r},740:function(t,e,n){var content=n(803);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("46d7be14",content,!0,{sourceMap:!1})},762:function(t,e,n){var content=n(843);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(10).default)("73d91832",content,!0,{sourceMap:!1})},802:function(t,e,n){"use strict";n(740)},803:function(t,e,n){var r=n(9)(!1);r.push([t.i,".base-modal[data-v-0f458bbe]{top:0;left:0;right:0;bottom:0;z-index:11;position:fixed}.base-modal-fade-enter-active[data-v-0f458bbe],.base-modal-fade-leave-active[data-v-0f458bbe]{transition:transform .2s,opacity .3s ease-in-out}.base-modal-fade-enter[data-v-0f458bbe],.base-modal-fade-leave-to[data-v-0f458bbe]{opacity:0;transform:translateY(-12px)}",""]),t.exports=r},819:function(t,e,n){"use strict";n.r(e);var r=n(3).a.extend({name:"BaseModal",props:{isShow:{type:Boolean,required:!0}}}),o=(n(802),n(1)),component=Object(o.a)(r,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("transition",{attrs:{name:"base-modal-fade"}},[t.isShow?e("div",{staticClass:"base-modal",on:{click:function(e){return t.$emit("click")}}},[t._t("default")],2):t._e()])}),[],!1,null,"0f458bbe",null);e.default=component.exports},842:function(t,e,n){"use strict";n(762)},843:function(t,e,n){var r=n(9)(!1);r.push([t.i,".offer-alert[data-v-d9b2fbd4]{max-width:524px;min-width:524px;padding:30px}.offer-alert-title[data-v-d9b2fbd4]{font-size:24px;font-weight:600;line-height:33px;margin-bottom:16px}.offer-alert-text[data-v-d9b2fbd4]{font-size:16px;font-weight:400;line-height:22px;margin-bottom:30px}.offer-alert-buttons[data-v-d9b2fbd4]{grid-gap:24px;gap:24px}@media screen and (max-width:600px){.offer-alert[data-v-d9b2fbd4]{margin-left:16px;margin-right:16px;min-width:0}}.offer-alert-button[data-v-d9b2fbd4]{font-size:18px;font-weight:700;line-height:16px;padding:12px}",""]),t.exports=r},844:function(t,e,n){"use strict";n.r(e);var r=n(3),o=n(714),f=n(715),c=n(819),l=r.a.extend({name:"OfferAlert",components:{Teleport:o.default,ModalShadow:f.default,BaseModal:c.default},props:{isAlert:{type:Boolean,required:!0},data:{type:Object,required:!0}}}),d=(n(842),n(1)),component=Object(d.a)(l,(function(){var t=this,e=t._self._c;t._self._setupProxy;return e("Teleport",{attrs:{to:"body"}},[e("ModalShadow",{attrs:{"is-show":t.isAlert},on:{click:function(e){return t.$emit("clickOnShadow")}}}),t._v(" "),e("BaseModal",{staticClass:"flex y-center x-center pointer-events-none",attrs:{"is-show":t.isAlert},on:{click:function(e){return t.$emit("clickOnModal")}}},[e("div",{staticClass:"offer-alert bg-white border-radius pointer-events-auto"},[e("div",{staticClass:"offer-alert-title"},[t._v("\n        "+t._s(t.data.title)+"\n      ")]),t._v(" "),t.data.text?e("div",{staticClass:"offer-alert-text",domProps:{innerHTML:t._s(t.data.text)}}):t._e(),t._v(" "),e("div",{staticClass:"offer-alert-buttons flex"},t._l(t.data.buttons,(function(n,r){return e("button",{key:r,staticClass:"offer-alert-button w-100",class:n.class,attrs:{disabled:n.disabled},on:{click:n.event}},[t._v("\n          "+t._s(n.label)+"\n        ")])})),0)])])],1)}),[],!1,null,"d9b2fbd4",null);e.default=component.exports}}]);